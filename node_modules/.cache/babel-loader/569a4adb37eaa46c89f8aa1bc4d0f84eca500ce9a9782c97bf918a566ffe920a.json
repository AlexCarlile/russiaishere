{"ast":null,"code":"var _jsxFileName = \"/Users/alexselyukov/Documents/russiaishere/src/pages/ActionsPage/ActionContent/ActionContent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Button, Input, Tabs, DatePicker } from 'antd';\nimport { CampaignForm } from '../../Personal';\nimport { CampaignList } from './CampaignList';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport dayjs from 'dayjs';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport './Actions.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\nconst {\n  RangePicker\n} = DatePicker;\nconst {\n  TabPane\n} = Tabs;\nexport const ActionContent = () => {\n  _s();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [isJoinModalVisible, setIsJoinModalVisible] = useState(false); // Добавьте состояние для модального окна\n  const [campaigns, setCampaigns] = useState([]);\n  const [search, setSearch] = useState('');\n  const [dateRange, setDateRange] = useState(null);\n  const [activeTab, setActiveTab] = useState('current');\n  const [user, setUser] = useState(null);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Функция для получения всех акций без авторизации\n  const fetchCampaigns = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/allcampaigns');\n      setCampaigns(response.data);\n    } catch (error) {\n      console.error('Failed to fetch campaigns:', error);\n    }\n  };\n\n  // Функция для получения данных пользователя с авторизацией\n  const fetchUser = async () => {\n    const token = Cookies.get('token');\n    if (token) {\n      try {\n        const response = await axios.get('http://127.0.0.1:5000/user', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to fetch user:', error);\n      }\n    }\n  };\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 430); // или нужный breakpoint\n    };\n    handleResize(); // сразу проверить\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    setIsJoinModalVisible(false); // Закройте модальное окно присоединения\n  };\n  const handleShowJoinModal = () => {\n    setIsJoinModalVisible(true);\n  };\n  useEffect(() => {\n    fetchCampaigns(); // Загружаем акции без токена\n    fetchUser(); // Проверяем авторизацию для действий\n  }, []);\n  useEffect(() => {\n    if (!isModalVisible) {\n      fetchCampaigns();\n      fetchUser();\n    }\n  }, [isModalVisible]);\n  const handleSearchChange = e => {\n    setSearch(e.target.value);\n  };\n  const handleDateChange = (dates, dateStrings) => {\n    setDateRange(dates);\n  };\n  const handleTabChange = key => {\n    console.log('Switching to tab:', key);\n    setActiveTab(key);\n  };\n\n  // const filteredCampaigns = campaigns\n  //     .filter(campaign => campaign.approval_status === 'yes')\n  //     .filter(campaign => {\n  //         const matchesSearch = campaign.title.toLowerCase().includes(search.toLowerCase()) || campaign.description.toLowerCase().includes(search.toLowerCase());\n  //         const inDateRange = !dateRange || (\n  //             dayjs(campaign.start_date).isSameOrAfter(dateRange[0]) && \n  //             dayjs(campaign.end_date).isSameOrBefore(dateRange[1])\n  //         );\n  //         return matchesSearch && inDateRange;\n  //     })\n  //     .filter(campaign => {\n  //         if (activeTab === 'current') {\n  //             return dayjs(campaign.end_date).isSameOrAfter(dayjs());\n  //         } else if (activeTab === 'past') {\n  //             return dayjs(campaign.end_date).isBefore(dayjs());\n  //         }\n  //         return true;\n  //     })\n  //     .sort((a, b) => dayjs(b.start_date).diff(dayjs(a.start_date)));\n\n  const currentCampaigns = campaigns.filter(campaign => campaign.approval_status === 'yes').filter(campaign => dayjs(campaign.end_date).isSameOrAfter(dayjs())).filter(campaign => {\n    const matchesSearch = campaign.title.toLowerCase().includes(search.toLowerCase()) || campaign.description.toLowerCase().includes(search.toLowerCase());\n    const inDateRange = !dateRange || dayjs(campaign.start_date).isSameOrAfter(dateRange[0]) && dayjs(campaign.end_date).isSameOrBefore(dateRange[1]);\n    return matchesSearch && inDateRange;\n  }).sort((a, b) => dayjs(b.start_date).diff(dayjs(a.start_date)));\n  const pastCampaigns = campaigns.filter(campaign => campaign.approval_status === 'yes').filter(campaign => dayjs(campaign.end_date).isBefore(dayjs())).filter(campaign => {\n    const matchesSearch = campaign.title.toLowerCase().includes(search.toLowerCase()) || campaign.description.toLowerCase().includes(search.toLowerCase());\n    const inDateRange = !dateRange || dayjs(campaign.start_date).isSameOrAfter(dateRange[0]) && dayjs(campaign.end_date).isSameOrBefore(dateRange[1]);\n    return matchesSearch && inDateRange;\n  }).sort((a, b) => dayjs(b.start_date).diff(dayjs(a.start_date)));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"actions-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"actions-info\",\n      children: \"\\u0410\\u043A\\u0446\\u0438\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \\u0430\\u043A\\u0446\\u0438\\u044E\",\n      open: isModalVisible,\n      onCancel: handleCancel,\n      footer: null,\n      afterClose: fetchCampaigns,\n      width: isMobile ? '100vw' : 800,\n      style: isMobile ? {\n        top: 0,\n        padding: 0,\n        margin: 0,\n        height: '100vh',\n        maxWidth: '100vw'\n      } : {},\n      bodyStyle: isMobile ? {\n        height: 'calc(100vh - 55px)',\n        // высота минус заголовок\n        padding: '0px',\n        overflowY: 'auto'\n      } : {},\n      centered: !isMobile,\n      closable: true,\n      children: /*#__PURE__*/_jsxDEV(CampaignForm, {\n        onClose: () => setIsModalVisible(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions-descr\",\n      children: \"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u044F\\u0439\\u0442\\u0435\\u0441\\u044C \\u043A\\xA0\\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u0435, \\u0443\\u0447\\u0430\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435 \\u0432\\xA0\\u0430\\u043A\\u0446\\u0438\\u0438 \\u0438\\xA0\\u0437\\u0430\\u043D\\u0438\\u043C\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0440\\u0438\\u0437\\u043E\\u0432\\u044B\\u0435 \\u043C\\u0435\\u0441\\u0442\\u0430!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u0438\\u043B\\u0438 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u044E\",\n      value: search,\n      onChange: handleSearchChange,\n      style: {\n        marginBottom: '1rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), user && user.role !== 'участник' && user.role !== 'наставник' && user.role !== '?наставник' ? /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: showModal,\n      style: {\n        marginBottom: '1rem',\n        paddingTop: '20px',\n        paddingBottom: '20px',\n        backgroundColor: '#EF3124',\n        fontSize: '21px',\n        borderRadius: '48px'\n      },\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0430\\u043A\\u0446\\u0438\\u044E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '100%',\n          width: 'fit-content'\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          activeKey: activeTab,\n          onChange: handleTabChange,\n          centered: true,\n          className: \"tabs-centered\",\n          destroyInactiveTabPane: false // важно: не сбрасывать компоненты\n          ,\n          items: [{\n            key: 'current',\n            label: 'Текущие акции',\n            children: /*#__PURE__*/_jsxDEV(CampaignList, {\n              campaigns: currentCampaigns,\n              user: user,\n              onJoinButtonClick: handleShowJoinModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this)\n          }, {\n            key: 'past',\n            label: 'Прошедшие акции',\n            children: /*#__PURE__*/_jsxDEV(CampaignList, {\n              campaigns: pastCampaigns,\n              user: user,\n              onJoinButtonClick: handleShowJoinModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n_s(ActionContent, \"XAqEZaBB0h/pmdqm+k8V+o/Wwp8=\");\n_c = ActionContent;\nvar _c;\n$RefreshReg$(_c, \"ActionContent\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","Input","Tabs","DatePicker","CampaignForm","CampaignList","axios","Cookies","dayjs","isSameOrAfter","isSameOrBefore","jsxDEV","_jsxDEV","extend","RangePicker","TabPane","ActionContent","_s","isModalVisible","setIsModalVisible","isJoinModalVisible","setIsJoinModalVisible","campaigns","setCampaigns","search","setSearch","dateRange","setDateRange","activeTab","setActiveTab","user","setUser","isMobile","setIsMobile","fetchCampaigns","response","get","data","error","console","fetchUser","token","headers","handleResize","window","innerWidth","addEventListener","removeEventListener","showModal","handleCancel","handleShowJoinModal","handleSearchChange","e","target","value","handleDateChange","dates","dateStrings","handleTabChange","key","log","currentCampaigns","filter","campaign","approval_status","end_date","matchesSearch","title","toLowerCase","includes","description","inDateRange","start_date","sort","a","b","diff","pastCampaigns","isBefore","className","children","fileName","_jsxFileName","lineNumber","columnNumber","open","onCancel","footer","afterClose","width","style","top","padding","margin","height","maxWidth","bodyStyle","overflowY","centered","closable","onClose","placeholder","onChange","marginBottom","role","type","onClick","paddingTop","paddingBottom","backgroundColor","fontSize","borderRadius","display","justifyContent","activeKey","destroyInactiveTabPane","items","label","onJoinButtonClick","_c","$RefreshReg$"],"sources":["/Users/alexselyukov/Documents/russiaishere/src/pages/ActionsPage/ActionContent/ActionContent.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Modal, Button, Input, Tabs, DatePicker } from 'antd';\nimport { CampaignForm } from '../../Personal';\nimport { CampaignList } from './CampaignList';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport dayjs, { Dayjs } from 'dayjs';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport './Actions.css'\n\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\n\nconst { RangePicker } = DatePicker;\nconst { TabPane } = Tabs;\n\ninterface User {\n    email: string;\n    role: string;\n}\n\nexport const ActionContent: React.FC = () => {\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [isJoinModalVisible, setIsJoinModalVisible] = useState(false); // Добавьте состояние для модального окна\n    const [campaigns, setCampaigns] = useState<any[]>([]);\n    const [search, setSearch] = useState<string>('');\n    const [dateRange, setDateRange] = useState<[Dayjs, Dayjs] | null>(null);\n    const [activeTab, setActiveTab] = useState<string>('current');\n    const [user, setUser] = useState<User | null>(null);\n    const [isMobile, setIsMobile] = useState(false);\n\n    // Функция для получения всех акций без авторизации\n    const fetchCampaigns = async () => {\n        try {\n            const response = await axios.get('http://127.0.0.1:5000/allcampaigns');\n            setCampaigns(response.data);\n        } catch (error) {\n            console.error('Failed to fetch campaigns:', error);\n        }\n    };\n\n    // Функция для получения данных пользователя с авторизацией\n    const fetchUser = async () => {\n        const token = Cookies.get('token');\n        if (token) {\n            try {\n                const response = await axios.get('http://127.0.0.1:5000/user', {\n                    headers: { 'Authorization': `Bearer ${token}` }\n                });\n                setUser(response.data);\n            } catch (error) {\n                console.error('Failed to fetch user:', error);\n            }\n        }\n    };\n\n    useEffect(() => {\n        const handleResize = () => {\n            setIsMobile(window.innerWidth <= 430); // или нужный breakpoint\n        };\n\n        handleResize(); // сразу проверить\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n        setIsJoinModalVisible(false); // Закройте модальное окно присоединения\n    };\n\n    const handleShowJoinModal = () => {\n        setIsJoinModalVisible(true);\n    };\n\n    useEffect(() => {\n        fetchCampaigns(); // Загружаем акции без токена\n        fetchUser(); // Проверяем авторизацию для действий\n    }, []);\n\n    useEffect(() => {\n        if (!isModalVisible) {\n            fetchCampaigns();\n            fetchUser();\n        }\n    }, [isModalVisible]);\n\n    const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setSearch(e.target.value);\n    };\n\n    const handleDateChange = (dates: [Dayjs, Dayjs] | null, dateStrings: [string, string]) => {\n        setDateRange(dates);\n    };\n\n    const handleTabChange = (key: string) => {\n        console.log('Switching to tab:', key);\n        setActiveTab(key);\n    };\n\n    // const filteredCampaigns = campaigns\n    //     .filter(campaign => campaign.approval_status === 'yes')\n    //     .filter(campaign => {\n    //         const matchesSearch = campaign.title.toLowerCase().includes(search.toLowerCase()) || campaign.description.toLowerCase().includes(search.toLowerCase());\n    //         const inDateRange = !dateRange || (\n    //             dayjs(campaign.start_date).isSameOrAfter(dateRange[0]) && \n    //             dayjs(campaign.end_date).isSameOrBefore(dateRange[1])\n    //         );\n    //         return matchesSearch && inDateRange;\n    //     })\n    //     .filter(campaign => {\n    //         if (activeTab === 'current') {\n    //             return dayjs(campaign.end_date).isSameOrAfter(dayjs());\n    //         } else if (activeTab === 'past') {\n    //             return dayjs(campaign.end_date).isBefore(dayjs());\n    //         }\n    //         return true;\n    //     })\n    //     .sort((a, b) => dayjs(b.start_date).diff(dayjs(a.start_date)));\n\n    const currentCampaigns = campaigns\n    .filter(campaign => campaign.approval_status === 'yes')\n    .filter(campaign => dayjs(campaign.end_date).isSameOrAfter(dayjs()))\n    .filter(campaign => {\n        const matchesSearch = campaign.title.toLowerCase().includes(search.toLowerCase()) ||\n                            campaign.description.toLowerCase().includes(search.toLowerCase());\n        const inDateRange = !dateRange || (\n        dayjs(campaign.start_date).isSameOrAfter(dateRange[0]) && \n        dayjs(campaign.end_date).isSameOrBefore(dateRange[1])\n        );\n        return matchesSearch && inDateRange;\n    })\n    .sort((a, b) => dayjs(b.start_date).diff(dayjs(a.start_date)));\n\n    const pastCampaigns = campaigns\n    .filter(campaign => campaign.approval_status === 'yes')\n    .filter(campaign => dayjs(campaign.end_date).isBefore(dayjs()))\n    .filter(campaign => {\n        const matchesSearch = campaign.title.toLowerCase().includes(search.toLowerCase()) ||\n                            campaign.description.toLowerCase().includes(search.toLowerCase());\n        const inDateRange = !dateRange || (\n        dayjs(campaign.start_date).isSameOrAfter(dateRange[0]) && \n        dayjs(campaign.end_date).isSameOrBefore(dateRange[1])\n        );\n        return matchesSearch && inDateRange;\n    })\n    .sort((a, b) => dayjs(b.start_date).diff(dayjs(a.start_date)));\n\n\n    return (\n        <div className='actions-container'>\n            <h2 className='actions-info'>Акции</h2>\n            \n            <Modal\n                title=\"Добавить новую акцию\"\n                open={isModalVisible}\n                onCancel={handleCancel}\n                footer={null}\n                afterClose={fetchCampaigns}\n                width={isMobile ? '100vw' : 800}\n                style={isMobile ? {\n                    top: 0,\n                    padding: 0,\n                    margin: 0,\n                    height: '100vh',\n                    maxWidth: '100vw',\n                } : {}}\n                bodyStyle={isMobile ? {\n                    height: 'calc(100vh - 55px)', // высота минус заголовок\n                    padding: '0px',\n                    overflowY: 'auto',\n                } : {}}\n                centered={!isMobile}\n                closable={true}\n            >\n                <CampaignForm onClose={() => setIsModalVisible(false)}/>\n            </Modal>\n\n            <div className='actions-descr'>\n                Присоединяйтесь к&nbsp;команде, участвуйте в&nbsp;акции и&nbsp;занимайте призовые места!\n            </div>\n\n            <Input\n                placeholder=\"Поиск по названию или описанию\"\n                value={search}\n                onChange={handleSearchChange}\n                style={{ marginBottom: '1rem' }}\n            />\n            {user && (user.role !== 'участник' && user.role !== 'наставник' && user.role !== '?наставник') ? \n                <Button type=\"primary\" onClick={showModal} style={{ marginBottom: '1rem', paddingTop: '20px', paddingBottom: '20px', backgroundColor: '#EF3124', fontSize: '21px', borderRadius: '48px' }}>\n                    Добавить акцию\n                </Button> :\n                null\n            }\n\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <div style={{ maxWidth: '100%', width: 'fit-content' }}>\n                    <Tabs\n                        activeKey={activeTab}\n                        onChange={handleTabChange}\n                        centered\n                        className=\"tabs-centered\"\n                        destroyInactiveTabPane={false} // важно: не сбрасывать компоненты\n                        items={[\n                            {\n                            key: 'current',\n                            label: 'Текущие акции',\n                            children: (\n                                <CampaignList\n                                campaigns={currentCampaigns}\n                                user={user}\n                                onJoinButtonClick={handleShowJoinModal}\n                                />\n                            ),\n                            },\n                            {\n                            key: 'past',\n                            label: 'Прошедшие акции',\n                            children: (\n                                <CampaignList\n                                campaigns={pastCampaigns}\n                                user={user}\n                                onJoinButtonClick={handleShowJoinModal}\n                                />\n                            ),\n                            },\n                        ]}\n                        />\n\n                </div>\n            </div>\n        </div>\n    );\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}